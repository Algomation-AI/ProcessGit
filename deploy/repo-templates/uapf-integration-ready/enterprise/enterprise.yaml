# Enterprise Configuration for Integration Ready Template
kind: uapf.enterprise
version: 1.0

# Enterprise Metadata
enterprise:
  name: "{{.RepoOwner}} Organization"
  id: "{{.RepoOwner}}"
  domain: processgit.local
  established: "{{.CreatedDate}}"

# Repository Configuration
repository:
  type: integration-ready
  template: uapf-integration-ready
  level: 4
  description: Enterprise process repository with integration capabilities
  
# Governance
governance:
  compliance_frameworks:
    - name: SOX
      enabled: true
      requirements:
        - audit_trail
        - change_management
        - access_control
    
    - name: GDPR
      enabled: true
      requirements:
        - data_privacy
        - consent_management
        - data_retention
    
    - name: ISO27001
      enabled: true
      requirements:
        - information_security
        - risk_management
        - incident_response
  
  policies:
    - id: POL-001
      name: Integration Security Policy
      description: Security requirements for external integrations
      mandatory: true
      
    - id: POL-002
      name: Data Quality Policy
      description: Standards for data validation and quality
      mandatory: true
    
    - id: POL-003
      name: Change Management Policy
      description: Process for managing changes to production integrations
      mandatory: true

# Integration Standards
integration:
  security:
    authentication:
      - bearer_token
      - oauth2
      - api_key
    
    encryption:
      in_transit: TLS_1.2_or_higher
      at_rest: AES_256
    
    secrets_management:
      provider: vault
      rotation_period: 90d
  
  api_standards:
    protocols:
      - REST
      - GraphQL
      - SOAP
    
    formats:
      - JSON
      - XML
    
    versioning: semantic
    rate_limiting: true
  
  database_standards:
    supported_databases:
      - PostgreSQL
      - MySQL
      - Oracle
      - SQL Server
    
    connection_pooling: required
    prepared_statements: required
    transaction_management: required

# Monitoring and Observability
monitoring:
  metrics:
    enabled: true
    provider: prometheus
    retention: 30d
  
  logging:
    enabled: true
    level: info
    provider: elasticsearch
    retention: 90d
  
  tracing:
    enabled: true
    provider: jaeger
    sampling_rate: 0.1
  
  alerting:
    enabled: true
    channels:
      - email
      - slack
      - pagerduty

# Environments
environments:
  development:
    description: Local development environment
    isolation: container
    data_masking: true
  
  testing:
    description: Automated testing environment
    isolation: namespace
    data_masking: true
  
  staging:
    description: Pre-production environment
    isolation: cluster
    data_masking: true
    approval_required: false
  
  production:
    description: Live production environment
    isolation: cluster
    data_masking: false
    approval_required: true
    approvers:
      - integration-team-lead
      - security-team

# Access Control
access_control:
  authentication:
    method: sso
    provider: oauth2
  
  authorization:
    model: rbac
    roles:
      - name: process-developer
        permissions:
          - read:process
          - write:process
          - read:connectors
          - write:connectors
      
      - name: process-operator
        permissions:
          - read:process
          - execute:process
          - read:monitoring
      
      - name: integration-admin
        permissions:
          - read:*
          - write:*
          - admin:connectors
          - admin:credentials
      
      - name: auditor
        permissions:
          - read:process
          - read:audit-logs
          - read:monitoring

# Deployment
deployment:
  strategy: blue_green
  
  pipeline:
    stages:
      - name: build
        automated: true
      
      - name: test
        automated: true
        gates:
          - unit_tests
          - integration_tests
      
      - name: security_scan
        automated: true
        gates:
          - vulnerability_scan
          - secrets_detection
      
      - name: staging
        automated: true
        gates:
          - smoke_tests
          - performance_tests
      
      - name: production
        automated: false
        approval_required: true
        gates:
          - manual_approval
          - rollback_plan
  
  rollback:
    automatic: true
    conditions:
      - error_rate_threshold: 5%
      - latency_threshold: 5s
      - availability_threshold: 99%

# Support and Maintenance
support:
  business_hours:
    timezone: UTC
    schedule: "24/7"
  
  sla:
    availability: 99.9%
    response_time:
      critical: 1h
      high: 4h
      medium: 1d
      low: 3d
  
  maintenance_windows:
    frequency: monthly
    duration: 2h
    notification_period: 7d

# Backup and Recovery
backup:
  process_definitions:
    frequency: daily
    retention: 90d
  
  configuration:
    frequency: on_change
    retention: 365d
  
  audit_logs:
    frequency: real_time
    retention: 7y
  
  recovery:
    rpo: 1h
    rto: 4h
