{{if and .IsProcessGitViewer .ProcessGitViewerPayload}}
  <div class="processgit-viewer"
       data-global-init="initRepoProcessGitViewer"
       data-pgv-raw-panel="diagram-raw-view">
    <div class="tw-flex tw-items-center tw-justify-between tw-mb-3">
      <div class="ui buttons">
        <button class="ui button active" data-pgv-action="gui">GUI</button>
        <button class="ui button" data-pgv-action="raw">{{ctx.Locale.Tr "repo.file_view_source"}}</button>
      </div>
      <div class="tw-flex tw-gap-2 tw-items-center">
        <span class="ui basic label">Viewer: {{.ProcessGitViewerPayload.ID}}</span>
        <span class="ui basic label">Primary: {{.ProcessGitViewerPayload.Path}}</span>
        <button class="ui primary button" data-pgv-action="save" disabled>{{ctx.Locale.Tr "save"}}</button>
      </div>
    </div>

    <div id="processgit-viewer-mount" class="tw-w-full"></div>

    <script type="application/json" id="processgit-viewer-payload">
      {{JsonUtils.Encode .ProcessGitViewerPayload}}
    </script>
  </div>
{{end}}
