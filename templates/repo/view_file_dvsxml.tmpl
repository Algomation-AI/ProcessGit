{{if and .IsDVSXML .DVSXMLPayload}}
  <div class="dvsxml-viewer dvsxml-view-shell" data-global-init="initRepoDVSXML" data-dvs-raw-panel="diagram-raw-view">
    <div class="diagram-toolbar tw-flex tw-items-center tw-justify-between tw-gap-2 tw-mb-3">
      <div class="ui buttons dvsxml-mode-buttons">
        <button class="ui button active" data-dvs-action="preview">{{ctx.Locale.Tr "preview"}}</button>
        <button class="ui button" data-dvs-action="edit">{{ctx.Locale.Tr "repo.editor.edit_file"}}</button>
        <button class="ui button" data-dvs-action="raw">{{ctx.Locale.Tr "repo.file_view_source"}}</button>
      </div>

      <div class="tw-flex tw-gap-2 tw-items-center">
        <button class="ui primary button dvsxml-save-button tw-hidden" data-dvs-action="save" disabled>{{ctx.Locale.Tr "save"}}</button>
        <a class="ui button" href="{{$.RawFileLink}}">{{ctx.Locale.Tr "repo.file_view_raw"}}</a>
      </div>
    </div>

    <div id="dvs-xml-viewer" class="dvsxml-stage"></div>

    <script type="application/json" id="dvsxml-payload">{{JsonUtils.Encode .DVSXMLPayload}}</script>
  </div>
{{end}}
